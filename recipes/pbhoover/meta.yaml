{% set version = "1.0.4" %}

package:
  name: pbhoover
  version: {{ version }}

source:
  fn: pbhoover-{{ version }}.tar.gz
  url: https://gitlab.com/LPCDRP/pbhoover/repository/{{ version }}/archive.tar.gz
  sha256: 0302ae85f775ff3f8e7f2abf5201cc3d834abcac7752e2f234fc00daa6a5d825

requirements:
  build:
    - python # [py27]
    - setuptools
    - argparse
    - pbcore
    - pbh5tools
    - numpy
    - pyvcf

  run:
    - python # [py27]
    - pbh5tools
    - tabix
    - htslib
    - samtools
    - bcftools
    - argparse
    - pyvcf
    - pbcore
    - numpy

test:
  requires:
    - nose

  imports:
    - unittest
    - pysam

  commands:
    - python tests/TestClass.py
    - cd /tmp && pbhoover -h

about:
  home: https://gitlab.com/LPCDRP/pbhoover
  license: GPLv3
  summary: "Variant caller for legacy and low coverage Pacific Biosciences' long-read sequencing data"
